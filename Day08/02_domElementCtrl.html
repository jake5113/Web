<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>JS DOM Control</title>
</head>

<body>

    <!-- 요소의 속성 변경 -->

    <!-- 1. img 요소의 src 속성 변경 -->
    <img src="./image/kpj003.png" alt="z" width="120" id="aa">
    <button onclick="changeImage()">change image</button>

    <script>
        function changeImage() {
            document.getElementById('aa').src = "./image/ms_02.png"
        }
    </script>

    <hr>

    <!-- 요소의 스타일 변경 : DOM tree 구조를 이용한 요소접근법 -->
    <p id="p1">this is paragraph</p>
    <button onclick="clickBtn(this)">스타일 변경</button>

    <script>
        function clickBtn(e) {
            // 클릭된 버튼의 앞 형제요소 찾기
            var p = e.previousElementSibling
            p.style.color = "red"
            p.style.fontWeight = "bold"
            p.style.fontStyle = "italic"
        }
    </script>

    <!-- class 속성을 이용하여 다중스타일 한방에 적용 -->
    <style>
        .kk {
            color: blue;
            font-weight: bold;
            font-style: italic;
        }
    </style>
    <button onclick="clickBtn2()">클래스 속성으로 다중스타일 한방에 변경</button>
    <script>
        function clickBtn2() {
            document.getElementById("p1").style = "" // 기존인라인 스타일을 제거하려면
            document.getElementById("p1").className = "kk"
        }
    </script>

    <hr>

    <!-- DOM 노드의 동적인 추가와 삭제 -->
    <button onclick="addText()">텍스트 추가</button>
    <button onclick="addElement()">요소 추가</button>
    <button onclick="removeNode()">자식노드 제거</button>
    <p id="pp"></p>

    <script>
        function addText() {
            // var node = document.createTextNode("this is test")
            // var node = document.createTextNode("<a href=''>this is test</a>")

            // var pp = document.getElementById('pp')
            // pp.appendChild(node)

            // 위 작업(텍스트노드 추가)을 간략하게.. 하는 속성

            document.getElementById("pp").textContent = "<a href=''>this is test</a>"

        }

        function addElement() {
            // var node = document.createElement('a')

            // // 속성노드 추가
            // var attr = document.createAttribute("href")
            // attr.value = "https://google.com"
            // node.setAttributeNode(attr)

            // // 텍스트 노드 생성 및 추가
            // var text = document.createTextNode("google")
            // node.appendChild(text)

            // document.getElementById('pp').appendChild(node)

            // 요소추가를 한방에 축약형으로
            document.getElementById('pp').innerHTML = "<a href=''>Google</a>"
        }

        function removeNode() {
            var pp = document.getElementById('pp')
            pp.removeChild(pp.firstChild)
        }
    </script>

    <hr>

    <!-- JS에서 요소를 찾을때 CSS 선택자 문법을 이용한 요소 접근 방식 -->
    <h3 id="ee">Hello World</h3>
    <button onclick="aaa()">button</button>
    <script>
        function aaa() {
            var e = document.querySelector('#ee') // css문법의 id 선택자
            e.innerHTML = "Nice to meet you"
        }
    </script>

    <hr>

    <h4>aaa</h4>
    <h4>bbb</h4>
    <h4>ccc</h4>

    <button onclick="bbb()">button</button>
    <script>
        function bbb() {
            // css 선택자 중에서 여러요소가 찾아지는 선택자들.
            var es = document.querySelectorAll('h4') // 타입 선택자로 여러요소 참조 - 리턴은 배열
            es[0].innerHTML = "Good"
        }
        
        var es = document.querySelectorAll('h4')
        es[1].onclick = function(){
            alert("bbb")
        }
    </script>


</body>

</html>